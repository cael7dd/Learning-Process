var $jscomp={scope:{},inherits:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,d);f&&Object.defineProperty(a,d,f)}else a[d]=b[d]}},module$game2d$event$Game2dEventDispatcher={},Game2dEventDispatcher$$module$game2d$event$Game2dEventDispatcher=function(){this._listeners=new Map};
Game2dEventDispatcher$$module$game2d$event$Game2dEventDispatcher.prototype.addEventListener=function(a,b){var c=this._listeners.get(a);c||(c=[],this._listeners.set(a,c));c.push(b)};Game2dEventDispatcher$$module$game2d$event$Game2dEventDispatcher.prototype.removeEventListeners=function(a,b){var c=this._listeners.get(a);if(c)if(b){var d=c.indexOf(b);-1!=d&&c.splice(d,1)}else c.length=0};
Game2dEventDispatcher$$module$game2d$event$Game2dEventDispatcher.prototype.dispatchEvent=function(a){var b=this._listeners.get(a.getType());if(b&&0<b.length)for(var c=0;c<b.length;c++)b[c](a)};var $jscompDefaultExport$$module$game2d$event$Game2dEventDispatcher=Game2dEventDispatcher$$module$game2d$event$Game2dEventDispatcher;module$game2d$event$Game2dEventDispatcher["default"]=$jscompDefaultExport$$module$game2d$event$Game2dEventDispatcher;var module$game2d$event$Game2dEvent={},Game2dEvent$$module$game2d$event$Game2dEvent=function(a,b){this._type=a;this._data=b};Game2dEvent$$module$game2d$event$Game2dEvent.prototype.getType=function(){return this._type};Game2dEvent$$module$game2d$event$Game2dEvent.prototype.getData=function(){return this._data};var $jscompDefaultExport$$module$game2d$event$Game2dEvent=Game2dEvent$$module$game2d$event$Game2dEvent;module$game2d$event$Game2dEvent["default"]=$jscompDefaultExport$$module$game2d$event$Game2dEvent;var module$game2d$event$Game2dMouseEvent={},Game2dMouseEvent$$module$game2d$event$Game2dMouseEvent=function(a,b){module$game2d$event$Game2dEvent["default"].call(this,a,b)};$jscomp.inherits(Game2dMouseEvent$$module$game2d$event$Game2dMouseEvent,module$game2d$event$Game2dEvent["default"]);Game2dMouseEvent$$module$game2d$event$Game2dMouseEvent.CLICK="click";var $jscompDefaultExport$$module$game2d$event$Game2dMouseEvent=Game2dMouseEvent$$module$game2d$event$Game2dMouseEvent;
module$game2d$event$Game2dMouseEvent["default"]=$jscompDefaultExport$$module$game2d$event$Game2dMouseEvent;var module$game2d$display$Display={},Display$$module$game2d$display$Display=function(){module$game2d$event$Game2dEventDispatcher["default"].call(this);this.y=this.x=0;this.scaleY=this.scaleX=1;this.rotation=0;this._enabled=!0;this._parent=null};$jscomp.inherits(Display$$module$game2d$display$Display,module$game2d$event$Game2dEventDispatcher["default"]);Display$$module$game2d$display$Display.prototype.onDraw=function(a){};
Display$$module$game2d$display$Display.prototype.internal_draw=function(a){a.save();a.translate(this.x,this.y);a.scale(this.scaleX,this.scaleY);a.rotate(this.rotation);this.onDraw(a);a.restore()};Display$$module$game2d$display$Display.prototype.hitTestPoint=function(a,b){return!1};Display$$module$game2d$display$Display.prototype.getGlobalX=function(){var a=this.getParent();return a?a.getGlobalX()+this.x:0};
Display$$module$game2d$display$Display.prototype.getGlobalY=function(){var a=this.getParent();return a?a.getGlobalY()+this.y:0};Display$$module$game2d$display$Display.prototype.internal_onClick=function(a){this.isEnabled()&&this.hitTestPoint(a.layerX,a.layerY)&&this.dispatchEvent(new module$game2d$event$Game2dMouseEvent["default"](module$game2d$event$Game2dMouseEvent["default"].CLICK))};Display$$module$game2d$display$Display.prototype.setEnabled=function(a){this._enabled=a};
Display$$module$game2d$display$Display.prototype.isEnabled=function(){return this._enabled};Display$$module$game2d$display$Display.prototype.setParent=function(a){this._parent=a};Display$$module$game2d$display$Display.prototype.getParent=function(){return this._parent};var $jscompDefaultExport$$module$game2d$display$Display=Display$$module$game2d$display$Display;module$game2d$display$Display["default"]=$jscompDefaultExport$$module$game2d$display$Display;var module$game2d$display$Container={},Container$$module$game2d$display$Container=function(){module$game2d$display$Display["default"].call(this);this._children=[]};$jscomp.inherits(Container$$module$game2d$display$Container,module$game2d$display$Display["default"]);Container$$module$game2d$display$Container.prototype.addChild=function(a){-1==this._children.indexOf(a)?(this._children.push(a),a.setParent(this)):console.error("this child has exist")};
Container$$module$game2d$display$Container.prototype.removeChild=function(a){var b=this._children.indexOf(a);this._children.splice(b,1);a.setParent(null)};Container$$module$game2d$display$Container.prototype.onDraw=function(a){for(var b=0;b<this._children.length;b++)this._children[b].internal_draw(a)};Container$$module$game2d$display$Container.prototype.internal_onClick=function(a){for(var b=0;b<this._children.length;b++)this._children[b].internal_onClick(a)};
var $jscompDefaultExport$$module$game2d$display$Container=Container$$module$game2d$display$Container;module$game2d$display$Container["default"]=$jscompDefaultExport$$module$game2d$display$Container;var module$game2d$app$Game2dApp={},Game2dApp$$module$game2d$app$Game2dApp=function(a,b){module$game2d$display$Container["default"].call(this);this._canvas=document.createElement("canvas");this._canvas.width=a;this._canvas.height=b;this._context2d=this._canvas.getContext("2d");this.render(0);this.addNativeListeners()};$jscomp.inherits(Game2dApp$$module$game2d$app$Game2dApp,module$game2d$display$Container["default"]);Game2dApp$$module$game2d$app$Game2dApp.prototype.getStageWidth=function(){return this._stageWidth};
Game2dApp$$module$game2d$app$Game2dApp.prototype.getStageHeight=function(){return this._stageHeight};Game2dApp$$module$game2d$app$Game2dApp.prototype.addNativeListeners=function(){this._canvas.onclick=function(a){this.internal_onClick(a)}.bind(this)};Game2dApp$$module$game2d$app$Game2dApp.prototype.getDom=function(){return this._canvas};
Game2dApp$$module$game2d$app$Game2dApp.prototype.render=function(a){this._context2d.clearRect(0,0,this._stageWidth,this._stageHeight);this.internal_draw(this._context2d);requestAnimationFrame(this.render.bind(this))};var $jscompDefaultExport$$module$game2d$app$Game2dApp=Game2dApp$$module$game2d$app$Game2dApp;module$game2d$app$Game2dApp["default"]=$jscompDefaultExport$$module$game2d$app$Game2dApp;var module$game2d$display$Rect={},Rect$$module$game2d$display$Rect=function(a,b,c){module$game2d$display$Display["default"].call(this);this._width=a||100;this._height=b||100;this._color=c||"#000"};$jscomp.inherits(Rect$$module$game2d$display$Rect,module$game2d$display$Display["default"]);Rect$$module$game2d$display$Rect.prototype.getWidth=function(){return this._width};Rect$$module$game2d$display$Rect.prototype.setWidth=function(a){this._width=a};
Rect$$module$game2d$display$Rect.prototype.getHeight=function(){return this._height};Rect$$module$game2d$display$Rect.prototype.setHeight=function(a){this._height=a};Rect$$module$game2d$display$Rect.prototype.getColor=function(){return this._color};Rect$$module$game2d$display$Rect.prototype.setColor=function(a){this._color=a};Rect$$module$game2d$display$Rect.prototype.onDraw=function(a){a.fillStyle=this._color;a.fillRect(0,0,this._width,this._height)};
Rect$$module$game2d$display$Rect.prototype.hitTestPoint=function(a,b){return a>this.getGlobalX()&&b>this.getGlobalY()&&a<this.getGlobalX()+this._width&&b<this.getGlobalY()+this._height};var $jscompDefaultExport$$module$game2d$display$Rect=Rect$$module$game2d$display$Rect;module$game2d$display$Rect["default"]=$jscompDefaultExport$$module$game2d$display$Rect;var module$game2d$display$Text={},Text$$module$game2d$display$Text=function(a,b,c,d){module$game2d$display$Display["default"].call(this);this._text=a;this._fontSize=b||10;this._fontColor=c||"#000";this._fontFamily=d;this.generateFontString()};$jscomp.inherits(Text$$module$game2d$display$Text,module$game2d$display$Display["default"]);Text$$module$game2d$display$Text.prototype.generateFontString=function(){this._font=this._fontSize+"px "+this._fontFamily};
Text$$module$game2d$display$Text.prototype.setText=function(a){this._text=a};Text$$module$game2d$display$Text.prototype.getText=function(){return this._text};Text$$module$game2d$display$Text.prototype.setFontColor=function(a){this._fontColor=a};Text$$module$game2d$display$Text.prototype.getFontColor=function(){return this._fontColor};Text$$module$game2d$display$Text.prototype.setFontFamily=function(a){this._fontFamily=a};Text$$module$game2d$display$Text.prototype.getFontFamily=function(){return this._fontFamily};
Text$$module$game2d$display$Text.prototype.setFontSize=function(a){this._fontSize=a};Text$$module$game2d$display$Text.prototype.getFontSize=function(){return this._fontSize};Text$$module$game2d$display$Text.prototype.onDraw=function(a){a.fillStyle=this._fontColor;a.font=this._font;a.fillText(this._text,0,this._fontSize)};var $jscompDefaultExport$$module$game2d$display$Text=Text$$module$game2d$display$Text;module$game2d$display$Text["default"]=$jscompDefaultExport$$module$game2d$display$Text;var module$mygame$Game={},Game$$module$mygame$Game=function(){module$game2d$app$Game2dApp["default"].call(this,450,450);document.body.appendChild(this.getDom());this.createRectAndText()};$jscomp.inherits(Game$$module$mygame$Game,module$game2d$app$Game2dApp["default"]);
Game$$module$mygame$Game.prototype.createRectAndText=function(){this._poi=[];this._container=new module$game2d$display$Container["default"];this._container1=new module$game2d$display$Container["default"];for(var a=0;9>a;a++){var b=new module$game2d$display$Rect["default"](50,50,this.returnRandomColor()),c=new module$game2d$display$Text["default"](a+1,20);c.setFontColor("#000000");var d=this.getRandomPoi();b.x=50*d[0];b.y=50*d[1];c.x=50*d[0]+18;c.y=50*d[1]+15;this._container.addChild(b);this._container1.addChild(c)}this.addChild(this._container);
this.addChild(this._container1);this.addChildEvent()};Game$$module$mygame$Game.prototype.addChildEvent=function(){for(var a=this,b=!0,c=0,d=0;d<a._container._children.length;d++)(function(d){var g=a._container._children[d];g.addEventListener(module$game2d$event$Game2dMouseEvent["default"].CLICK,function(e){if(b){for(e=0;e<a._container._children.length;e++)a._container._children[e].setColor&&a._container._children[e].setColor("#000");b=!1}else d==c&&(c++,g.setColor("#fff"),9==c&&alert("success"))})})(d)};
Game$$module$mygame$Game.prototype.getRandomPoi=function(){x=parseInt(9*Math.random());y=parseInt(9*Math.random());for(var a=0;a<this._poi.length;a++)if(this._poi[a].x==x&&this._poi[a].y==y)this.getRandomPoi();else{this._poi.push({x:x,y:y});break}return[x,y]};Game$$module$mygame$Game.prototype.returnRandomColor=function(){for(var a="#",b=0;3>b;b++){var c=parseInt(255*Math.random()).toString(16);c[1]||(c="0"+c);a+=c}return a};new Game$$module$mygame$Game;
var $jscompDefaultExport$$module$mygame$Game=Game$$module$mygame$Game;module$mygame$Game["default"]=$jscompDefaultExport$$module$mygame$Game;

//#sourceMappingURL= game.min.js.map
